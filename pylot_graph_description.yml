communication:
  zenoh_prefix: /foo

operators:
  - id: carla_source_node
    outputs:
      - position
      - depth_frame
      - segmented_frame
      - vehicle_id
      - camera_frame
    run: non-existent
  - id: perfect_detection_node
    outputs:
      - obstacles_without_location
    inputs:
      position: carla_source_node/position
      depth_frame: carla_source_node/depth_frame
      segmented_frame: carla_source_node/segmented_frame
    run: non-existent

  - id: obstacles_location_node
    outputs:
      - obstacles
    inputs:
      position: carla_source_node/position
      depth_frame: carla_source_node/depth_frame
      obstacles_without_location: perfect_detection_node/obstacles_without_location
    run: non-existent
  - id: planning_node
    outputs:
      - waypoints
    inputs:
      position: carla_source_node/position
      obstacles: obstacles_location_node/obstacles
    run: non-existent
  - id: pid_control_node
    outputs:
      - control
    inputs:
      position: carla_source_node/position
      waypoints: planning_node/waypoints
    run: non-existent
  - id: control_node
    outputs:
      - control_status
    inputs:
      control: pid_control_node/control
      vehicle_id: carla_source_node/vehicle_id
    run: non-existent
  - id: influxdb_node
    description: Optional
    inputs:
      control_status: control_node/control_status
      position: carla_source_node/position
      obstacles: obstacles_location_node/obstacles
    run: non-existent